"use client";
import { useEffect, useRef } from "react";
import gsap from "gsap";

const Signature = () => {
  const svgRef = useRef(null);

  useEffect(() => {
    const letters = gsap.utils.toArray(".letter");
    const tl = gsap.timeline();

    letters.forEach((letter) => {
      const length = letter.getTotalLength();
      gsap.set(letter, {
        strokeDasharray: length,
        strokeDashoffset: length,
        fillOpacity: 0,
      });

      tl.to(letter, {
        strokeDashoffset: 0,
        duration: 0.6,
        ease: "power1.inOut",
      }).to(
        letter,
        {
          fillOpacity: 1,
          duration: 0.4,
        },
        "-=0.2"
      ); // overlap fill with stroke
    });
  }, []);

  return (
    <svg ref={svgRef} viewBox="0 0 180 40" width="520" fill="none">
      {/* V */}
      {/* V */}

      <path
        d="M27.549 4.631c-0.054-0.083-0.147-0.138-0.252-0.138-0 0-0 0-0 0h-1.025c-0.12 0-0.224 0.071-0.273 0.173l-0.001 0.002-9.518 20.811-9.486-20.81c-0.049-0.105-0.153-0.176-0.273-0.176-0 0-0 0-0 0h-0.992c-0.166 0-0.3 0.134-0.3 0.3 0 0.045 0.010 0.088 0.028 0.127l-0.001-0.002 10.24 22.4c0.048 0.105 0.152 0.176 0.272 0.176h1.088c0.12 0 0.224-0.071 0.272-0.174l0.001-0.002 10.241-22.4c0.016-0.036 0.026-0.079 0.026-0.123 0-0.061-0.018-0.117-0.048-0.165l0.001 0.001z"
        className="letter"
        fill="none"
        stroke="#e3e4d8"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />

      {/* A */}

      <path
        d="M48.34 26.854l-10.527-22.4c-0.131-0.274-0.405-0.46-0.724-0.46h-1.088c-0.318 0-0.593 0.186-0.721 0.455l-10.529 22.4c-0.048 0.1-0.077 0.217-0.077 0.341 0 0.441 0.358 0.799 0.799 0.799h0.992c0.319 0 0.594-0.186 0.723-0.456l2.44-5.203h13.801l2.471 5.207c0.131 0.272 0.405 0.457 0.723 0.457h0.992c0.442 0 0.8-0.358 0.8-0.8 0-0.124-0.028-0.241-0.078-0.345zM30.798 19.801l5.744-12.17 5.718 12.17z"
        className="letter"
        fill="none"
        stroke="#e3e4d8"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />

      {/* R */}

      <path
        d="M76.695 26.725l-5.732-7.951c1.278-0.52 2.343-1.338 3.145-2.371 0.982-1.248 1.575-2.843 1.575-4.576v-0.077c0-2.117-0.883-4.027-2.301-5.383-1.476-1.405-3.478-2.269-5.681-2.269h-9.055c-0.442 0-0.8 0.358-0.8 0.8v22.4c0 0.442 0.358 0.8 0.8 0.801h0.928c0.442-0.001 0.8-0.359 0.8-0.801v-7.744h7.327c0.313 0 0.616-0.016 0.91-0.043l5.961 8.256c0.147 0.202 0.383 0.331 0.648 0.332h1.152c0.442 0 0.8-0.358 0.8-0.8 0-0.176-0.057-0.34-0.154-0.472zM60.048 6.521h7.263c1.516 0 2.896 0.58 3.93 1.531 0.947 0.902 1.537 2.173 1.537 3.581v0.125c0 1.409-0.589 2.68-1.535 3.58-1.03 0.946-2.41 1.526-3.925 1.526h-7.263z"
        className="letter"
        fill="none"
        stroke="#e3e4d8"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />

      {/* U */}

      <path
        d="M108.248 3.993h-0.928c-0.442 0-0.8 0.358-0.801 0.8v14.016c0 1.843-0.748 3.51-1.956 4.717-1.347 1.198-3.131 1.929-5.086 1.929-1.954 0-3.738-0.732-5.092-1.936-1.211-1.206-1.96-2.874-1.96-4.717v-14.016c0-0.442-0.358-0.8-0.8-0.8h-0.928c-0.442 0-0.8 0.358-0.8 0.8v14.049c0 2.536 1.028 4.832 2.689 6.494 1.785 1.66 4.185 2.679 6.823 2.679 2.64 0 5.041-1.02 6.832-2.687 1.651-1.666 2.67-3.959 2.67-6.491v-14.049c-0.001-0.442-0.359-0.8-0.801-0.8z"
        className="letter"
        fill="none"
        stroke="#e3e4d8"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />

      {/* N */}

      <path
        d="M140.375 3.993h-0.928c-0.442 0-0.8 0.358-0.801 0.8v18.66l-15.439-19.162c-0.148-0.182-0.372-0.298-0.623-0.298h-0.928c-0.442 0-0.8 0.358-0.8 0.8v22.4c0 0.442 0.358 0.8 0.8 0.801h0.928c0.442-0.001 0.8-0.359 0.8-0.801v-18.66l15.44 19.162c0.148 0.182 0.372 0.298 0.623 0.299h0.928c0.442-0.001 0.8-0.359 0.801-0.801v-22.4c-0.001-0.442-0.359-0.8-0.801-0.8z"
        className="letter"
        fill="none"
        stroke="#e3e4d8"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
    </svg>
  );
};

export default Signature;
